"use strict";jQuery(document).ready(function(i){function e(i){var e=i.find('input[name="give_gift_aid_address_option"]:radio:checked').val(),a=i.find(".give-gift-aid-address-fields");"another_address"===e?(a.show(),i.find(".give-gift-check-is-billing-address").val("no")):(a.hide(),i.find(".give-gift-check-is-billing-address").val("yes"))}var a=i('input[name="give_gift_aid_enable_disable"]:radio'),n=i(".give_gift_aid_fields"),t=i('input[name="give_gift_aid_long_explanation_enable_disable"]:radio'),d=i(".give_gift_aid_long_explanation_fields"),o=i("#billing_country");i(document).on("give_md_check_form_setup",function(e){var a=i("#give_md_create_payment");jQuery(a.find("tr.give-gift-aid-row")).each(function(e,a){i(this).remove()}),i(e.response.gift_aid_html).insertAfter(a.find("#give-md-billing-address").closest(".form-field")),jQuery(a.find("tr.give-gift-aid-row td .give-gift-aid-address-fields p")).each(function(e,a){i(this).find(".give-required-indicator").remove()}),o.change(),i(".give_gift_aid_accept_term_condition").change(),i(".give_gift_aid_address_option").change()}),i(document).on("click",".give-gift-aid-explanation-content-more",function(){var e=i(this).parents("form"),a=e.find(".give-gift-aid-long-explanation-wrap"),n=e.find(".give-gift-aid-long-explanation-wrap"),t=e.find(".give-gift-aid-long-explanation-content");jQuery.magnificPopup.open({mainClass:"wrap",closeOnBgClick:!0,fixedContentPos:!1,fixedBgPos:!1,items:{src:a,type:"inline"},callbacks:{open:function(){n.addClass("mfp-show"),n.removeClass("mfp-hide"),t.addClass("mfp-show")},close:function(){n.removeClass("mfp-show"),n.addClass("mfp-hide")}}})}),o.on("change",function(){var e=i(this).parents("form"),a=i(this).val(),n=e.find(".give-gift-aid-dedicate-donation");"undefined"==typeof a&&(a=give_gift_aid_vars.gift_aid_base_country),"GB"===a?n.show():n.hide()}).change(),i(document).on("change",".give_gift_aid_address_option",function(){var a=i(this).parents("form"),n=a.find(".give-gift-aid-address-wrap");n.hide();var t=a.find(".give_gift_aid_accept_term_condition").is(":checked");t&&n.show(),e(a)}).change(),i(document).on("change",".give_gift_aid_accept_term_condition",function(){var a=i(this).parents("form"),n=a.find('input[name="give_gift_aid_accept_term_condition"]').is(":checked"),t=a.find(".give-gift-aid-address-wrap");t.hide(),n&&t.show(),e(a)}).change(),a.on("change",function(){var e=i('input[name="give_gift_aid_enable_disable"]:radio:checked').val();"enabled"===e?n.show():n.hide(),t.change()}).change(),t.on("change",function(){var e=i('input[name="give_gift_aid_long_explanation_enable_disable"]:radio:checked').val(),a=i('input[name="give_gift_aid_enable_disable"]:radio:checked').val();return"enabled"===a&&void("enabled"===e?d.show():d.hide())}).change();var _={init:function(){this.handle_bulk_delete()},handle_bulk_delete:function(){var e=i("#give-gift-aid-filter");e.on("submit",function(){var e=i('select[name="action"]',i(this)).val(),a=[],n="";switch(i('input[name="gift_aid_payment[]"]:checked',i(this)).each(function(){a.push(i(this).val())}),a=a.length.toString(),e){case"delete-entries":if(!parseInt(a))return alert(give_gift_aid_vars.bulk_action.delete_gift_aid_donation.zero_donation_selected),!1;if(n=1<a?give_gift_aid_vars.bulk_action.delete_gift_aid_donation.delete_donations:give_gift_aid_vars.bulk_action.delete_gift_aid_donation.delete_donation,!window.confirm(n.replace("{gift_aid_donation_count}",a)))return!1;break;case"download-declaration-forms":if(!parseInt(a))return alert(give_gift_aid_vars.bulk_action.download_gift_aid_declaration_form.zero_declaration_form_selected),!1;if(n=1<a?give_gift_aid_vars.bulk_action.download_gift_aid_declaration_form.declaration_forms:give_gift_aid_vars.bulk_action.download_gift_aid_declaration_form.declaration_form,!window.confirm(n.replace("{gift_aid_donation_count}",a)))return!1}return!0})}};_.init()});